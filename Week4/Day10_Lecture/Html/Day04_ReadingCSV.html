<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Reading CSV</title>
    <link rel="stylesheet" href="..\..\..\Xtra\Styles\coursestyles.css">
    <link rel="stylesheet" href="..\..\..\Xtra\Styles\prism.css">
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script> -->
</head>
<body>
    <div class="sidenav">
        <a href="..\..\..\PG2_CourseMaterials.html">Home</a>

        <div class="header"><b>Lab</b></div>
        <a href="..\..\Lab4\Html\Lab4.html">Lab 4: Card Wars</a>

        <div class="header"><b>File I/O</b></div>
        <a href="Day04_FileInputOutput.html" class="indent">File I/O Overview</a>
        <a href="Day04_FilePaths.html" class="indent">File Paths</a>
        <a href="Day04_Using.html" class="indent">Using Statement</a>
        <a href="Day04_WritingCSV.html" class="indent">Writing CSV</a>
        <a href="Day04_ReadingCSV.html" class="indent active">Reading CSV</a>
        <a href="Day04_NuGet.html" class="indent">NuGet Manager</a>
        <a href="Day04_Serializing.html" class="indent">Serializing JSON</a>
        <a href="Day04_Deserializing.html" class="indent">Deserializing JSON</a>

        <div class="header"><a class="pageLink" href="Day02_Splitting.html" class="indent"><b>Splitting Strings</b></a></div>
        
        <div class="header"><a class="pageLink" href="..\..\Day11_Lecture\Html\Day11_IntroToCPP.html" class="indent"><b>Intro to C++</b></a></div>

        <p></p><br>
    </div> 
    <div class="main">
        <H1>Reading CSV</H1>
        <p>
            <iframe width="640" height="360" src="https://web.microsoftstream.com/embed/video/3495285a-c60f-480e-a2df-04e9d76178d3?autoplay=false&showinfo=true" allowfullscreen style="border:none;"></iframe>
        </p>
        To read the CSV data from a file, you must know what the delimiter used so you can separate the data after reading the file.
        <p>You can process (or parse) the string while you are reading the file or you can read the entire file then parse the text after closing the file.</p>

        <p>
            To read the CSV text file, use the <strong><code class="language-csharp">StreamReader</code></strong> class.<br>
            To read the entire CSV text file in 1 line, use the <strong><code class="language-csharp">File.ReadAllText</code></strong> method.
        </p>

        <h2>Examples</h2>
        <h3>StreamReader</h3>
        <pre><code class="language-csharp">Superhero bats = new Superhero();
using (StreamReader sr = new StreamReader(filePath))
{
    string line;
    while ((line = sr.ReadLine()) != null)
    {
        string[] parts = line.Split(delimiter);
        bats.Name = parts[0];
        bats.SecretIdentity = parts[1];
        bats.Power = Enum.Parse&lt;Powers&gt;(parts[2]);
    }
}</code></pre>
        <div class="block info">
            <p>NOTE: <strong><code class="language-csharp">ReadLine</code></strong> will return null if at the end-of-file.</p>
        </div>
        
        <h3>File.ReadAllText</h3>
        File.ReadAllText will open the file, read the file, close the file, and return the contents of the file in a string.
        <pre><code class="language-csharp">string fileText = File.ReadAllText(filePath);//open, read, close the file
string[] parts = fileText.Split(delimiter);
bats.Name = parts[0];
bats.SecretIdentity = parts[1];
bats.Power = Enum.Parse&lt;Powers&gt;(parts[2]);  </code></pre>

        <p>
            <iframe width="640" height="360" src="https://web.microsoftstream.com/embed/video/851ad0e3-b43f-44fa-8345-0c558fb6152c?autoplay=false&showinfo=true" allowfullscreen style="border:none;"></iframe>
        </p>

        
        <h2>Challenges!</h2>
        <p>
            <iframe width="640" height="360" src="https://web.microsoftstream.com/embed/video/e2f6df16-f106-4938-a696-87b87cae43ae?autoplay=false&showinfo=true" allowfullscreen style="border:none;"></iframe>
        </p>
    </div>
    <script src="..\..\..\Xtra\Styles\prism.js"></script>
    <script src="..\..\..\Xtra\Styles\collapsible.js"></script>
</body>
</html>